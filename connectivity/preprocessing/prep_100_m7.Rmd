---
title: "preprocessing"
author: "Victor MÃ¸ller"
date: "21 maj 2019"
output: html_document
---

Files loaded in from outside storage space. 
This is where the working directory is refering. 

```{r}
#set working directory to where you have raw files
setwd("D:/soc_kult_exam/data raw/model7csv")

#packages
library(tidyverse)

```

Loading. 
Network = Lattice
Sample size = 100
True model = 7

```{r}

#file-names
temp <- list.files(pattern="*.csv")

#lattice
names(temp) <- list.files(pattern=".csv")
y <- c("lattice_bo_0.2_BIC_100_hard_100_7.csv",
       "lattice_bo_0.5_BIC_100_hard_100_7.csv",
       "lattice_bo_0.8_BIC_100_hard_100_7.csv",
       "lattice_epi_0.2_BIC_100_hard_100_7.csv",
       "lattice_epi_0.5_BIC_100_hard_100_7.csv",
       "lattice_epi_0.8_BIC_100_hard_100_7.csv",
       "lattice_mave_0.2_BIC_100_hard_100_7.csv",
       "lattice_mave_0.5_BIC_100_hard_100_7.csv",
       "lattice_mave_0.8_BIC_100_hard_100_7.csv",
       "lattice_tess_0.2_BIC_100_hard_100_7.csv",
       "lattice_tess_0.5_BIC_100_hard_100_7.csv",
       "lattice_tess_0.8_BIC_100_hard_100_7.csv")
temp1 <- temp[y]
temp1

#loading them 
for(i in 1:length(temp1)) assign(temp1[i], read.csv(temp1[i], sep = ","))
```

Binding files together. 

```{r}

#rbind them into lattice. 
lattice_100_m7 <- rbind(lattice_bo_0.2_BIC_100_hard_100_7.csv,
       lattice_bo_0.5_BIC_100_hard_100_7.csv,
       lattice_bo_0.8_BIC_100_hard_100_7.csv,
       lattice_epi_0.2_BIC_100_hard_100_7.csv,
       lattice_epi_0.5_BIC_100_hard_100_7.csv,
       lattice_epi_0.8_BIC_100_hard_100_7.csv,
       lattice_mave_0.2_BIC_100_hard_100_7.csv,
       lattice_mave_0.5_BIC_100_hard_100_7.csv,
       lattice_mave_0.8_BIC_100_hard_100_7.csv,
       lattice_tess_0.2_BIC_100_hard_100_7.csv,
       lattice_tess_0.5_BIC_100_hard_100_7.csv,
       lattice_tess_0.8_BIC_100_hard_100_7.csv)

#remove all the old shit 
rm(list=setdiff(ls(), "lattice_100_m7")) 
```

Loading. 
Network = Small world 
Sample size = 100
True model = 7

```{r}

#small world 
temp <- list.files(pattern=".csv")
names(temp) <- list.files(pattern=".csv")
y <- c("small_bo_0.2_BIC_100_hard_100_7.csv",
       "small_bo_0.5_BIC_100_hard_100_7.csv", 
       "small_bo_0.8_BIC_100_hard_100_7.csv",
       "small_epi_0.2_BIC_100_hard_100_7.csv",
       "small_epi_0.5_BIC_100_hard_100_7.csv",
       "small_epi_0.8_BIC_100_hard_100_7.csv",
       "small_mave_0.2_BIC_100_hard_100_7.csv",
       "small_mave_0.5_BIC_100_hard_100_7.csv",
       "small_mave_0.8_BIC_100_hard_100_7.csv",
       "small_tess_0.2_BIC_100_hard_100_7.csv",
       "small_tess_0.5_BIC_100_hard_100_7.csv",
       "small_tess_0.8_BIC_100_hard_100_7.csv")
temp1 <- temp[y]
temp1

#loading them 
for(i in 1:length(temp1)) assign(temp1[i], read.csv(temp1[i], sep = ","))

```

Binding files together. 

```{r}

#rbind them into lattice. 
small_100_m7 <- rbind(small_bo_0.2_BIC_100_hard_100_7.csv,
       small_bo_0.5_BIC_100_hard_100_7.csv,
       small_bo_0.8_BIC_100_hard_100_7.csv,
       small_epi_0.2_BIC_100_hard_100_7.csv,
       small_epi_0.5_BIC_100_hard_100_7.csv,
       small_epi_0.8_BIC_100_hard_100_7.csv,
       small_mave_0.2_BIC_100_hard_100_7.csv,
       small_mave_0.5_BIC_100_hard_100_7.csv,
       small_mave_0.8_BIC_100_hard_100_7.csv,
       small_tess_0.2_BIC_100_hard_100_7.csv,
       small_tess_0.5_BIC_100_hard_100_7.csv,
       small_tess_0.8_BIC_100_hard_100_7.csv)

#remove all the old shit 
rm(list= ls()[!(ls() %in% c('lattice_100_m7','small_100_m7'))])
```

Selecting columns that we'll be working with. 

```{r}

#lattice 
lattice_100_m7 <- lattice_100_m7 %>%
  select(replica,
         timestep,
         strategy,
         proportion_1,
         proportion_2,
         proportion_3,
         proportion_4,
         proportion_5,
         proportion_6,
         proportion_7,
         proportion_8,
         proportion_9,
         proportion_10,
         proportion_11,
         proportion_12,
         proportion_13,
         proportion_14,
         replicated,
         not_replicated,
         sigma,
         network,
         population)

#small world 
small_100_m7 <- small_100_m7 %>%
  select(replica,
         timestep,
         strategy,
         proportion_1,
         proportion_2,
         proportion_3,
         proportion_4,
         proportion_5,
         proportion_6,
         proportion_7,
         proportion_8,
         proportion_9,
         proportion_10,
         proportion_11,
         proportion_12,
         proportion_13,
         proportion_14,
         replicated,
         not_replicated,
         sigma,
         network,
         population)

```

write csv. 
Now working directory is set to inside the CRUST-1 directory
so that we can use the files on the computer. 

```{r}

#set working directory to where you want your files
setwd("C:/Users/victm/Dropbox/CogSci 4/Social and Cultural Dynamics in Cognition/exam/CRUST-1/data/ABMdata/ABMcsv")

#write csv. 
write.csv(lattice_100_m7, "lattice_100_m7.csv", row.names = FALSE)
write.csv(small_100_m7, "small_100_m7.csv", row.names = FALSE)

```

