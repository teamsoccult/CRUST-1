---
title: "replicationrate"
author: "Victor MÃ¸ller"
date: "18 maj 2019"
output: html_document
---

mave replicated 

```{r}
#reading
mave02 <- read.csv("data/rfs50/small_mave_0.2_BIC_100_hard_100.csv", sep = ";")

#plots.  
library(tidyverse)
library(reshape2)

#relevant subset 
mave02 <- mave02 %>%
  subset(tried >= 1) 

#replication overall 
mave_overall <- mave02 %>%
  group_by(replica) %>%
  summarize(replicated = sum(replicated) / sum(not_replicated + replicated),
            not_rep = 1-replicated) 

#replication overall (median & IQR)
mave_overall_sum <- mave_overall %>%
  summarize(median = mean(replicated),
            IQR = IQR(replicated)) %>%
  mutate(final_global_true_model = "all cases")

#replication if true & if not
mave_byglobal <- mave02 %>%
  group_by(final_global_true_model, replica) %>%
  summarize(replicated = sum(replicated) / sum(not_replicated + replicated),
            not_rep = 1-replicated) 

#replicated if true & if not (median & IQR)
mave_byglobal_sum <- mave_byglobal %>%
  group_by(final_global_true_model) %>%
  summarize(median = mean(replicated),
            IQR = IQR(replicated)) 

mave_all_rep <- rbind(mave_overall_sum, mave_byglobal_sum)
```

